<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Blue0x Decentralized Exchange">
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Blue0x | EXCHANGE</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/bootstrap-reset.min.css" rel="stylesheet">
  <link href="assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
  <link href="css/style.min.css" rel="stylesheet">
  <link href="css/style-responsive.min.css" rel="stylesheet" />
  
</head>
<style>
.table>thead>tr>th, .table>tbody>tr>th, .table>tfoot>tr>th, .table>thead>tr>td, .table>tbody>tr>td, .table>tfoot>tr>td {
    border-top: none;
}
.table>thead>tr>th {
    border-bottom: none;
}
</style>
<body class="full-width" onload="setAccountNumber();">
  <section id="container">
    <script type="text/javascript" src="js/menu.js"></script>
    <section id="main-content">
      <section class="wrapper">
        <div class="row">
          <div class="col-lg-12">
            <section class="panel" style="color:#c1c1c1">
              <header class="panel-heading"> <b>Current Limit Orders</b> </header>
              <div class="panel-body">
                <div class="media-body"> <p class="p-head">Account ID</p>
                <p><span id="account">Account ID</span></p>
                <hr/>
                <p>Buy Limit Orders:</p>
                <table class="display table">
                    <thead>
                       	<tr>
                          <th>Currency</th>
                          <th>Order #</th>
                        </tr>
                    </thead>
                    <tbody id="buy_table_body"></tbody>
                </table>
                <hr/>
                <p>Sell Limit Orders:</p>
                <table class="display table">
                    <thead>
                       	<tr>
                       	  <th>Currency</th>
                          <th>Order #</th>
                        </tr>
                    </thead>
                    <tbody id="sell_table_body"></tbody>
                </table>
                </div>
              </div>
            </section>
          </div>
      </section>
      </div>
    </section>
  </section>
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/constants.js"></script>
  <script src="js/freemarket_scripts.js"></script>
  <script>
    var currentRSAccountNumber = sessionStorage.getItem("accountRS");
    document.getElementById("account").innerText = currentRSAccountNumber;
    $.getJSON(Constants.apiUrl, {
      requestType: 'getBuyOffers',
      account: currentRSAccountNumber,
      availableOnly: true
    }, function(result) {
    	for (var i = 0; i < result.offers.length; i++) {
    		var offerNum = result.offers[i].offer;
    		var currencyCode = result.offers[i].currency;
    		let currency;
    		switch(currencyCode){
    			case Constants.USDXId:
    			currency = "USDX";
    			break;
    			case Constants.AUDXId:
    			currency = "AUDX";
    			break;
    			case Constants.CADXId:
    			currency = "CADX";
    			break;
    			case Constants.CHFXId:
    			currency = "CHFX";
    			break;
    			case Constants.CNYXId:
    			currency = "CNYX";
    			break;
    			case Constants.EURXId:
    			currency = "EURX";
    			break;
    			case Constants.GBPXId:
    			currency = "GBPX";
    			break;
    			case Constants.IQDXId:
    			currency = "IQDX";
    			break;
    			case Constants.IRRXId:
    			currency = "IRRX";
    			break;
    			case Constants.JPYXId:
    			currency = "JPYX";
    			break;
    			case Constants.NZDXId:
    			currency = "NZDX";
    			break;
    			case Constants.RUBXId:
    			currency = "RUBX";
    			break;
    		}
    		var offer;
      		offer += '<tr>';
      		offer += '<td><a href=\'buyOrder.html?order=' + offerNum + '\'>' + currency + '</td>';
      		offer += '<td><a href=\'buyOrder.html?order=' + offerNum + '\'>' + offerNum + '</a></td>';
      		offer += '</tr>';
    		$("#buy_table_body").html(offer);
    }});
</script>
<script>
    var currentRSAccountNumber = sessionStorage.getItem("accountRS");
    document.getElementById("account").innerText = currentRSAccountNumber;
    $.getJSON(Constants.apiUrl, {
      requestType: 'getSellOffers',
      account: currentRSAccountNumber,
      availableOnly: true
    }, function(result) {
    	for (var i = 0; i < result.offers.length; i++) {
    		var offerNum = result.offers[i].offer;
    		var currencyCode = result.offers[i].currency;
    		let currency;
    		switch(currencyCode){
    			case Constants.USDXId:
    			currency = "USDX";
    			break;
    			case Constants.AUDXId:
    			currency = "AUDX";
    			break;
    			case Constants.CADXId:
    			currency = "CADX";
    			break;
    			case Constants.CHFXId:
    			currency = "CHFX";
    			break;
    			case Constants.CNYXId:
    			currency = "CNYX";
    			break;
    			case Constants.EURXId:
    			currency = "EURX";
    			break;
    			case Constants.GBPXId:
    			currency = "GBPX";
    			break;
    			case Constants.IQDXId:
    			currency = "IQDX";
    			break;
    			case Constants.IRRXId:
    			currency = "IRRX";
    			break;
    			case Constants.JPYXId:
    			currency = "JPYX";
    			break;
    			case Constants.NZDXId:
    			currency = "NZDX";
    			break;
    			case Constants.RUBXId:
    			currency = "RUBX";
    			break;
    		}
    		var offer;
      		offer += '<tr>';
      		offer += '<td><a href=\'sellOrder.html?order=' + offerNum + '\'>' + currency + '</td>';
      		offer += '<td><a href=\'sellOrder.html?order=' + offerNum + '\'>' + offerNum + '</a></td>';
      		offer += '</tr>';
    		$("#sell_table_body").html(offer);
    }});
</script>

</body>
</html>